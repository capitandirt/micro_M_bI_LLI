# *MICROMOUSE WITH USING* C++
  Или же по-старославянски **micro_M_bI_LLI**

## Авторы ПО:

1. [**Capitandirt**](https://github.com/capitandirt)
      
2. [**Denzov**](https://github.com/denzov)

## Главная сводка по micro maze'у
1. Лабиринт N-ого размера (в нашем случае 11x11)
2. Клетка размером 18x18 см
3. Робот ограничен размером 16.8x16.8 см
4. Старт в угловой клетке
5. Финиш в центре

## Основа робота
Конструктив робота взят с [ukrmars](https://github.com/ukmars/ukmarsbot/tree/master)

## Основы терминологии проекта
### Всё, что связано с обозначением передвижения в клетке
| Термин        | Что имеется в виду                         |
|---------------|--------------------------------------------|
| Direction     | Направление стороны (nort, west, south, east), в которую совершится действие в лабиринте. |
| Primitive     | Обозначает абстрактное действие поворота или движения в клетке лабиринта. Отличает от direction его относительностью от робота. |
| Smart (Циклограмма) | Обозначает действие поворота или движения в клетке лабиринта. Отличает от primitive конкретной реализацией. |
### Хранение данных на МК
#### class Maze
*О том, как представлено хранение лабиринта в памяти посредством структуры RawCellStore.*
![RawCellStore](https://github.com/capitandirt/micro_M_bI_LLI/blob/main/Readme/RawCellStore.png)
Элемент ячейки общего буффера ```_cell_blocks[MAZE_MEM_SIZE]``` — ```RawCellStore```, занимает 1 байт. Таким образом ```_cell_blocks``` размером MAZE_MEM_SIZE байт. Значение ```MAZE_MEM_SIZE``` определяется размером (N) лабиринта, однако не равно N. Если быть точным ```MAZE_MEM_SIZE = Nx2 + NxN```. Здесь ```NxN``` — "основные" ячейки лабиринта (отмечены темным на картинке), ```Nx2``` — "побочные" или, можно сказать, "фантомные" (отмечены ярко голубым); такие побочные ячейки необходимы, чтобы задавать боковые (западные и северные) стороны лабиринта.
Для того, чтобы понять, что здесь происходит, рассмотрим структуру RawCellStore с битовыми полями:
  1. *s_/e_wall*. Для построения всего лабиринта необходимо лишь сохранять состояние (```HI, LO```) южной и восточной стенки *клетки*.
  2. *cell_dir*. Это битовое поле отвечает за хранение направлений в итоговом пути для лабиринта в каждой ячейке.
  3. *is_def_cell_dir*. Поле отвечает определено ли *cell_dir*.
  4. *path_dir*. Поле отвечает за хранение направлений утогового пути решенного лабиринта. Есть нюанс: все битовые поля, исключая ```path_dir```, занимают 7 бит, однако для хранения Direction необходимо 2 бита (4 направления). Чтобы RawCellStore занимал не более байта, пришлось делать трюк: итогове значение ```path_dir``` складывается от 2 элементов буффера ```_cell_blocks```, как бы разделясь на старшую и младщую часть.















